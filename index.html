<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8">
<title>J√§√§tel√∂kioski</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 20px;
}

.box {
  background: white;
  padding: 20px;
  max-width: 800px;
  margin: auto;
}

.info {
  background: #fef5e7;
  padding: 10px;
  margin: 10px 0;
}

.calc {
  background: #e8f8f5;
  padding: 10px;
  margin: 10px 0;
}

button {
  padding: 10px 20px;
  font-size: 16px;
}
</style>
</head>

<body>

<div class="box">

<h1>üç¶ J√§√§tel√∂kioski</h1>

<h3>Valitse kioskin sijainti</h3>
<select id="location">
  <option value="1.2">Uimaranta</option>
  <option value="1.0">Puisto</option>
  <option value="0.9">Kauppakeskus</option>
</select>

<div class="info">
Uimaranta = suuri myyntipotentiaali, mutta s√§√§herkk√§.<br>
Puisto = tasainen ja ennustettava.<br>
Kauppakeskus = vakaa mutta matalampi huippumyynti.
</div>

<h3>Hinnoittelu</h3>

<label>J√§√§tel√∂n hinta (‚Ç¨ / annos)</label><br>
<input type="number" id="price" value="3.5" step="0.1"><br><br>

<label>Tilattavat j√§√§tel√∂paketit (1 paketti = 50 annosta)</label><br>
<input type="number" id="packages" value="8"><br><br>

<input type="checkbox" id="worker"> Palkkaa kes√§ty√∂ntekij√§<br><br>

<div class="calc" id="calculator"></div>

<button id="playButton">Pelaa viikko</button>

<hr>

<div id="result"></div>

</div>

<script>
const fixedCost = 500;
const packagePrice = 30;
const portionsPerPackage = 50;
let week = 1;

function updateCalculator() {
  const price = Number(document.getElementById("price").value);
  const contribution = price - (packagePrice / portionsPerPackage);

  if (contribution <= 0) {
    calculator.innerHTML = "T√§ll√§ hinnalla et saa katettua kustannuksia.";
    return;
  }

  const needed = Math.ceil(fixedCost / contribution);
  const packages = Math.ceil(needed / portionsPerPackage);

  calculator.innerHTML =
    "Kannattavuusraja: " + needed + " annosta<br>" +
    "V√§hint√§√§n " + packages + " pakettia";
}

function playWeek() {
  const price = Number(document.getElementById("price").value);
  const packages = Number(document.getElementById("packages").value);
  const weather = Math.floor(Math.random() * 11);

  const maxSales = packages * portionsPerPackage;
  const demand = 600 * (weather / 10) * (5 / price);
  const sales = Math.min(maxSales, demand);

  const revenue = sales * price;
  const costs = packages * packagePrice + fixedCost;
  const profit = revenue - costs;

  result.innerHTML =
    "<h3>Viikko " + week + "</h3>" +
    "S√§√§: " + weather + "/10<br>" +
    "Myynti: " + Math.round(sales) + " annosta<br>" +
    "Tulos: " + profit.toFixed(0) + " ‚Ç¨";

  week++;
}

document.getElementById("price").addEventListener("input", updateCalculator);
document.getElementById("playButton").addEventListener("click", playWeek);

updateCalculator();
</script>

</body>
</html>
